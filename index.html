<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EVER-MEET</title>
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap">
</head>
<body class="theme-dark">
  <div id="join-room-container" class="join-room-container">
    <div class="join-room-card">
      <h2>Join a Chat Room</h2>
      <div class="input-group">
        <input type="text" id="username-input" placeholder="Your Name" required>
      </div>
      <div class="input-group">
        <input type="text" id="room-code-input" placeholder="Room Code" required>
      </div>
      <div class="button-group">
        <button id="create-room-btn" class="primary-btn">Create Room</button>
        <button id="join-room-btn" class="secondary-btn">Join Room</button>
      </div>
    </div>
  </div>

  <div id="app-container" class="app-container hidden">
    <!-- Sidebar -->
    <div class="sidebar">
      <div class="sidebar-header">
        <div class="logo">
          <span class="ai-badge">EVER</span>
          <span class="logo-text">MEET</span>
        </div>
      </div>
      
      <div class="room-info">
        <div class="room-code">
          <span>Room Code:</span>
          <span id="current-room-code" class="code-value"></span>
          <button id="copy-room-code" class="copy-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
          </button>
        </div>
        <button id="leave-room-btn" class="leave-btn leave-btn-red">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-log-out"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" x2="9" y1="12" y2="12"/></svg>
          Leave Room
        </button>
      </div>
    </div>
    
    <!-- Main Content Area with Two Columns -->
    <div class="main-content">
      <!-- Video Column -->
      <div class="video-column">
        <div class="chat-header">
          <div class="chat-title">
            <div class="team-logo">V</div>
            <div class="team-info">
              <div class="team-name">Video Player</div>
              <div id="video-title" class="video-title">No video playing</div>
            </div>
          </div>
        </div>
        
        <div class="youtube-player-container" id="youtube-player-container">
          <div class="youtube-player" id="youtube-player">
            <!-- YouTube iframe will be inserted here by the API -->
          </div>
          <div class="video-controls">
            <button id="video-play-pause" class="video-control-btn">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play"><polygon points="5 3 19 12 5 21 5 3"/></svg>
            </button>
            <div class="video-progress">
              <div id="video-progress-bar" class="video-progress-bar"></div>
            </div>
            <button id="video-mute" class="video-control-btn">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-volume-2"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M15.54 8.46a5 5 0 0 1 0 7.07"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14"/></svg>
            </button>
            <button id="video-fullscreen" class="video-control-btn">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-maximize-2"><polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/></svg>
            </button>
          </div>
          <div class="video-time">
            <span id="current-time">0:00</span> / <span id="duration">0:00</span>
          </div>
          <div class="video-url-input">
            <div class="input-group">
              <input type="text" id="inline-youtube-url" placeholder="Paste YouTube URL">
              <button id="inline-share-video-btn" class="share-video-inline-btn">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-share"><path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"/><polyline points="16 6 12 2 8 6"/><line x1="12" x2="12" y1="2" y2="15"/></svg>
                Share
              </button>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Chat Column -->
      <div class="chat-column">
        <div class="chat-header">
          <div class="chat-title">
            <div class="team-logo">C</div>
            <div class="team-info">
              <div id="room-name" class="team-name">Chat Room</div>
              <div id="online-count" class="team-status">0 Online</div>
            </div>
          </div>
          <div class="chat-actions">
            <button id="toggle-users-btn" class="action-btn">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
            </button>
            <div class="theme-toggle">
              <button id="theme-light" class="theme-btn" title="Light Theme">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>
              </button>
              <button id="theme-dark" class="theme-btn active" title="Dark Theme">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg>
              </button>
              <button id="theme-space" class="theme-btn" title="Space Theme">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-star"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
              </button>
            </div>
            <!-- Chat Background Toggle Buttons -->
            <div class="chat-bg-toggle">
              <button class="chat-bg-btn" data-bg="default" title="Default Chat BG">Default</button>
              <button class="chat-bg-btn" data-bg="paper" title="Paper BG">Paper</button>
              <button class="chat-bg-btn" data-bg="gradient" title="Gradient BG">Gradient</button>
            </div>
          </div>
        </div>
        
        <div class="chat-messages" id="chat-messages">
          <!-- Messages will be dynamically added here -->
        </div>
        
        <div class="chat-input">
          <button id="share-youtube-btn" class="attachment-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-youtube"><path d="M2.5 17a24.12 24.12 0 0 1 0-10a2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17"/><path d="m10 15 5-3-5-3z"/></svg>
          </button>
          <input type="text" id="message-input" placeholder="Type Message...">
          <button id="send-message-btn" class="send-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-send"><path d="m22 2-7 20-4-9-9-4Z"/><path d="M22 2 11 13"/></svg>
          </button>
        </div>
      </div>
    </div>
    
    <!-- Right Sidebar (Room Members) - Now a slide-in panel -->
    <div class="right-sidebar" id="right-sidebar">
      <button id="close-sidebar" class="close-sidebar">Ã—</button>
      <div class="sidebar-header">
        <h3>Room Members</h3>
      </div>
      
      <div id="room-members" class="room-members">
        <!-- Room members will be added here -->
      </div>
    </div>
  </div>
  
  <!-- YouTube Share Modal -->
  <div id="youtube-modal" class="modal">
    <div class="modal-content">
      <span id="close-modal" class="close-modal">&times;</span>
      <h3>Share YouTube Video</h3>
      <div class="input-group">
        <input type="text" id="youtube-url-input" placeholder="Paste YouTube URL">
      </div>
      <button id="share-video-btn" class="primary-btn">Share Video</button>
    </div>
  </div>
  
  <!-- Stars background for space theme -->
  <div class="stars-container">
    <div class="stars"></div>
    <div class="stars2"></div>
    <div class="stars3"></div>
  </div>

  <!-- YouTube API -->
  <script src="https://www.youtube.com/iframe_api"></script>
  <!-- Socket.io client -->
  <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
  
  <!-- Custom JS -->
  <script src="js/app.js"></script>
</body>
</html>
